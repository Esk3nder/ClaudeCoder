### S05: Stop gate: require-green-tests.sh
Status: in_progress
Depends on: S01

Description:
Create require-green-tests.sh that auto-detects test command, runs tests, blocks on failure. Supports WORKFLOWS_SKIP_TESTS override.

Acceptance Criteria:
- [ ] Auto-detects npm test, pytest, cargo test, go test
- [ ] Skips if WORKFLOWS_SKIP_TESTS=true
- [ ] Skips if no test infrastructure detected
- [ ] Blocks (exit non-zero) on test failure
- [ ] Caches green results in .claude/.state/last_tests.env
